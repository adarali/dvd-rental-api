(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0538":function(e,t,n){"use strict";var o=n("1c0b"),r=n("861d"),i=[].slice,a={},c=function(e,t,n){if(!(t in a)){for(var o=[],r=0;r<t;r++)o[r]="a["+r+"]";a[t]=Function("C,a","return new C("+o.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=o(this),n=i.call(arguments,1),a=function(){var o=n.concat(i.call(arguments));return this instanceof a?c(t,o.length,o):t.apply(e,o)};return r(t.prototype)&&(a.prototype=t.prototype),a}},"131a":function(e,t,n){var o=n("23e7"),r=n("d2bb");o({target:"Object",stat:!0},{setPrototypeOf:r})},"262e":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("131a");function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},"2caf":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("4ae1"),n("3410"),n("131a");function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}n("d3b7"),n("25f0");function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var i=n("53ca");function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return!t||"object"!==Object(i["a"])(t)&&"function"!==typeof t?a(e):t}function s(e){var t=r();return function(){var n,r=o(e);if(t){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}},3049:function(e,t,n){"use strict";n.r(t);var o=n("7a23");function r(e,t,n,r,i,a){return Object(o["openBlock"])(),Object(o["createBlock"])("input",{class:["p-inputtext p-component",{"p-filled":a.filled}],value:n.modelValue,onInput:t[1]||(t[1]=function(){return a.onInput.apply(a,arguments)})},null,42,["value"])}n("d3b7"),n("25f0");var i={emits:["update:modelValue"],props:{modelValue:null},methods:{onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return null!=this.modelValue&&this.modelValue.toString().length>0}}};i.render=r;t["default"]=i},3410:function(e,t,n){var o=n("23e7"),r=n("d039"),i=n("7b0b"),a=n("e163"),c=n("e177"),s=r((function(){a(1)}));o({target:"Object",stat:!0,forced:s,sham:!c},{getPrototypeOf:function(e){return a(i(e))}})},4990:function(e,t,n){"use strict";n("e122")},"4ae1":function(e,t,n){var o=n("23e7"),r=n("d066"),i=n("1c0b"),a=n("825a"),c=n("861d"),s=n("7c73"),u=n("0538"),l=n("d039"),d=r("Reflect","construct"),f=l((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),p=!l((function(){d((function(){}))})),h=f||p;o({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(p&&!f)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var o=[null];return o.push.apply(o,t),new(u.apply(e,o))}var r=n.prototype,l=s(c(r)?r:Object.prototype),h=Function.apply.call(e,l,t);return c(h)?h:l}})},"53ca":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}},"61b1":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r={class:"card"},i={class:"p-fluid"},a={class:"p-field"},c=Object(o["createVNode"])("label",{for:"firstname"},"Username",-1),s={class:"p-field"},u=Object(o["createVNode"])("label",{for:"lastname"},"Password",-1),l=Object(o["createTextVNode"])("Log in"),d=Object(o["createTextVNode"])("Cancel"),f=Object(o["createTextVNode"])(" Sign in with "),p=Object(o["createVNode"])("b",null,"Google",-1);function h(e,t,n,h,b,g){var m=Object(o["resolveComponent"])("InputText"),v=Object(o["resolveComponent"])("Password"),y=Object(o["resolveComponent"])("Button");return Object(o["openBlock"])(),Object(o["createBlock"])("div",r,[Object(o["createVNode"])("div",i,[Object(o["createVNode"])("div",a,[c,Object(o["createVNode"])(m,{modelValue:b.request.username,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b.request.username=e})},null,8,["modelValue"])]),Object(o["createVNode"])("div",s,[u,Object(o["createVNode"])(v,{modelValue:b.request.password,"onUpdate:modelValue":t[2]||(t[2]=function(e){return b.request.password=e}),feedback:!1},null,8,["modelValue"])])]),Object(o["createVNode"])(y,{class:"p-mr-2",onClick:t[3]||(t[3]=function(e){return g.login()})},{default:Object(o["withCtx"])((function(){return[l]})),_:1}),Object(o["createVNode"])(y,{class:"p-button-danger p-mr-2",onClick:t[4]||(t[4]=function(e){return g.cancel()})},{default:Object(o["withCtx"])((function(){return[d]})),_:1}),Object(o["createVNode"])("div",null,[Object(o["createVNode"])("a",{href:g.apiBaseUrl+"/oauth2/authorization/github",class:"btn-auth btn-github large"},"GitHub",8,["href"]),Object(o["createVNode"])("a",{href:g.apiBaseUrl+"/oauth2/authorization/google",class:"btn-auth btn-google large"},[f,p],8,["href"])])])}n("d3b7"),n("ac1f"),n("3ca3"),n("841c"),n("ddb0"),n("2b3d");var b=n("a84a"),g=n.n(b),m=n("b51d"),v=n.n(m),y=n("6549"),O=n.n(y),w=n("d4ec"),j=n("bee2"),V=n("262e"),x=n("2caf"),k=n("50ae"),L=function(e){Object(V["a"])(n,e);var t=Object(x["a"])(n);function n(){var e;return Object(w["a"])(this,n),e=t.call(this),e.createAxios(),e}return Object(j["a"])(n,[{key:"login2",value:function(e){var t=this.baseUrl+"/login/auth";return this.axios.post(t,e)}},{key:"login",value:function(e){var t=this.baseUrl+"/login/auth?token="+e;return console.log(t),this.axios.get(t)}},{key:"logout",value:function(e){return this.jwt=e,this.axios.get(this.baseUrl+"/auth/logout",{headers:this.headers})}}]),n}(k["a"]),S={components:{InputText:g.a,Password:v.a,Button:O.a},prpos:{token:String},data:function(){return{service:new L,request:{username:"",password:""}}},created:function(){this.$store.commit("pageTitle","Login")},mounted:function(){var e=new URLSearchParams(window.location.search).get("token");console.log(e),e?(console.log("token",e),this.login(e),window.history.replaceState({},document.title,"./")):console.log("no token")},computed:{auth:function(){return this.$store.getters.auth},apiBaseUrl:function(){return""}},methods:{login:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$store.getters.services.loginService=this.service;var n=this.auth;console.log("token",t);var o=t?this.service.login(t):this.service.login2(this.request);o.then((function(t){console.log(t,n),n.login(t.data.jwt,t.data.user),console.log("auth",n.jwt),e.$store.commit("incrementMenuKey"),e.cancel()})).catch((function(t){return e.$messages.showError(t.response.data.message,e)}))},cancel:function(){this.$router.push("/movie")},loginWithGitHub:function(){window.open("http://www.mylinuxpc.com:8080/oauth2/authorization/github")}}};n("4990");S.render=h;t["default"]=S},a84a:function(e,t,n){"use strict";e.exports=n("3049")},b51d:function(e,t,n){"use strict";e.exports=n("ec22")},e122:function(e,t,n){},ec22:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r={class:"p-password-info"};function i(e,t,n,i,a,c){return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("input",{ref:"input",type:"password",class:["p-inputtext p-component",{"p-filled":c.filled}],value:n.modelValue,onInput:t[1]||(t[1]=function(){return c.onInput.apply(c,arguments)}),onFocus:t[2]||(t[2]=function(){return c.onFocus.apply(c,arguments)}),onBlur:t[3]||(t[3]=function(){return c.onBlur.apply(c,arguments)}),onKeyup:t[4]||(t[4]=function(){return c.onKeyUp.apply(c,arguments)})},null,42,["value"]),Object(o["createVNode"])(o["Transition"],{name:"p-connected-overlay",onEnter:c.onOverlayEnter,onLeave:c.onOverlayLeave},{default:Object(o["withCtx"])((function(){return[a.overlayVisible?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:0,ref:c.overlayRef,class:"p-password-panel p-component"},[Object(o["createVNode"])("div",{class:"p-password-meter",style:{"background-position":a.meterPosition}},null,4),Object(o["createVNode"])("div",r,Object(o["toDisplayString"])(a.infoText),1)],512)):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["onEnter","onLeave"])],64)}n("d3b7"),n("4d63"),n("ac1f"),n("25f0");var a=n("e895"),c=n.n(a),s=n("3a94"),u=n.n(s),l={emits:["update:modelValue"],props:{modelValue:String,promptLabel:{type:String,default:"Enter a password"},mediumRegex:{type:String,default:"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"},strongRegex:{type:String,default:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})"},weakLabel:{type:String,default:"Weak"},mediumLabel:{type:String,default:"Medium"},strongLabel:{type:String,default:"Strong"},feedback:{type:Boolean,default:!0}},data:function(){return{overlayVisible:!1,meterPosition:"",infoText:this.promptLabel}},mediumCheckRegExp:null,strongCheckRegExp:null,resizeListener:null,scrollHandler:null,overlay:null,mounted:function(){this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex)},beforeUnmount:function(){this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)},methods:{onOverlayEnter:function(){this.overlay.style.zIndex=String(u.a.generateZIndex()),this.overlay.style.minWidth=u.a.getOuterWidth(this.$refs.input)+"px",u.a.absolutePosition(this.overlay,this.$refs.input),this.bindScrollListener(),this.bindResizeListener()},onOverlayLeave:function(){this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null},testStrength:function(e){var t=0;return this.strongCheckRegExp.test(e)?t=3:this.mediumCheckRegExp.test(e)?t=2:e.length&&(t=1),t},onInput:function(e){this.$emit("update:modelValue",e.target.value)},onFocus:function(){this.feedback&&(this.overlayVisible=!0)},onBlur:function(){this.feedback&&(this.overlayVisible=!1)},onKeyUp:function(e){if(this.feedback){var t=e.target.value,n=null,o=null;switch(this.testStrength(t)){case 1:n=this.weakLabel,o="0px -10px";break;case 2:n=this.mediumLabel,o="0px -20px";break;case 3:n=this.strongLabel,o="0px -30px";break;default:n=this.promptLabel,o="0px 0px";break}this.meterPosition=o,this.infoText=n,this.overlayVisible||(this.overlayVisible=!0)}},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new c.a(this.$refs.input,(function(){e.overlayVisible&&(e.overlayVisible=!1)}))),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&(e.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},overlayRef:function(e){this.overlay=e}},computed:{filled:function(){return null!=this.modelValue&&this.modelValue.toString().length>0}}};l.render=i;t["default"]=l}}]);
//# sourceMappingURL=login.977cff9f.js.map