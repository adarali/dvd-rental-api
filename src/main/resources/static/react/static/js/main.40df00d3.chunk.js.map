{"version":3,"sources":["service/MovieService.js","components/Auth.js","components/movies/movie-item/MovieItem.js","components/commons/Paginator.js","components/commons/Select.js","components/movies/movie-list/MovieList.js","components/movies/movie-rent/MovieRent.js","components/movies/movie-purchase/MoviePurchase.js","components/movies/movie-detail/MovieDetail.js","components/movies/movie-form/MovieForm.js","components/layout/Navbar.js","components/layout/SideMenu.js","components/layout/Content.js","components/login/LoginForm.js","App.js","reportWebVitals.js","index.js"],"names":["MovieService","jwt","fetchMovies","params","ax","get","fetchMovieDetail","id","rentMovie","body","post","purchaseMovie","create","movie","update","put","this","axios","timeout","baseURL","headers","console","log","patch","Auth","user","service","localStorage","removeItem","username","isLoggedIn","admin","AuthContext","createContext","AuthProvider","props","Provider","value","children","MovieItem","Available","isAdmin","className","available","onClick","src","thumbnail","alt","onError","imgOnError","title","formatPrice","rentalPrice","salePrice","context","price","toFixed","e","target","Component","contextType","Paginator","maxPages","state","calcMaxPages","window","addEventListener","_isMounted","setState","arr","page","totalPages","setPage","max","start","Math","floor","i","push","length","aria-label","href","first","disabled","prev","next","isLastPage","last","vp","width","document","documentElement","clientWidth","innerWidth","getViewport","result","Select","onChange","options","map","opt","label","MovieList","handleKeyUp","key","loadMovies","handleSortDirClick","sort","startsWith","substr","sortIcon","movies","per_page","totalRecords","header","setTitle","sortField","type","placeholder","onKeyUp","AddMovie","MoviePaginator","MovieItems","then","res","totalCount","data","Date","getTime","ceil","history","useHistory","process","currentPage","MovieRent","buttonLabel","handleOk","useState","modal","setModal","rentDays","quantity","rent","setRent","toggle","color","Modal","isOpen","ModalHeader","ModalBody","htmlFor","min","defaultValue","ModalFooter","Button","toast","success","catch","err","error","response","message","MoviePurchase","purchase","setPurchase","MovieDetail","doRent","movieId","toggleAvailable","currTime","Navbar","goBack","data-toggle","data-target","aria-controls","aria-expanded","handleEdit","style","fontWeight","description","movieImages","image","url","loadMovie","match","MovieForm","imageUrl","SaveButton","saveMovie","CancelButton","InvalidFeedback","field","self","cols","name","stock","addImage","removeImage","filter","forEach","d","data-widget","background","border","SideMenu","UserInfo","auth","picture","fullName","LogoutButton","logout","handleLoginClicked","opacity","Consumer","role","data-accordion","to","Content","content","LoginForm","loginSuccess","password","creds","setCreds","App","useEffect","item","getItem","auth1","JSON","parse","setAuth","showLogin","setShowLogin","contentHeader","root","routes","path","exact","render","m","autoClose","stringify","setItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"mbAEaA,EAAb,WACI,WAAYC,GAAM,IAAD,gCAQjBC,YAAc,WAAkB,IAAjBC,EAAgB,uDAAP,GACpB,OAAO,EAAKC,GAAGC,IAAI,UAAW,CAACF,YATlB,KAYjBG,iBAAmB,SAACC,GAChB,OAAO,EAAKH,GAAGC,IAAR,kBAAuBE,KAbjB,KAgBjBC,UAAY,SAACD,EAAIE,GACb,OAAO,EAAKL,GAAGM,KAAR,kBAAwBH,EAAxB,UAAoCE,IAjB9B,KAoBjBE,cAAgB,SAACJ,EAAIE,GACjB,OAAO,EAAKL,GAAGM,KAAR,kBAAwBH,EAAxB,cAAwCE,IArBlC,KAiCjBG,OAAS,SAACC,GAAW,OAAO,EAAKT,GAAGM,KAAK,UAAWG,IAjCnC,KAkCjBC,OAAS,SAACD,GAAW,OAAO,EAAKT,GAAGW,IAAR,kBAAuBF,EAAMN,IAAMM,IAjC3DG,KAAKZ,GAAKa,IAAML,OAAO,CACnBM,QAAS,IACTC,QAAwC,UACxCC,QAAS,CAAC,cAAiB,UAAYnB,KALnD,4DAyBoBM,GAEZ,OADAc,QAAQC,IAAI,YAAaf,GAClBS,KAAKZ,GAAGmB,MAAR,kBAAyBhB,EAAzB,iBA3Bf,gCA8BcM,GACN,OAAOA,EAAMN,GAAIS,KAAKF,OAAOD,GAASG,KAAKJ,OAAOC,OA/B1D,KCEaW,EAAb,WACI,cAA+B,IAAD,IAAjBvB,WAAiB,MAAX,GAAW,EAAPwB,EAAO,EAAPA,KAAO,oBAC1BT,KAAKf,IAAMA,EACXe,KAAKS,KAAOA,EACZT,KAAKU,QAAU,IAAI1B,EAAaC,GAJxC,qDAiBMe,KAAKf,IAAM,GACXe,KAAKS,KAAO,GACZE,aAAaC,WAAW,UAnB9B,iCAQM,SAAGZ,KAAKS,OAAQT,KAAKS,KAAKI,YARhC,8BAaM,OAAOb,KAAKc,YAAcd,KAAKS,KAAKM,UAb1C,KAyBeC,EAAcC,0BAEdC,EAAe,SAAAC,GAE1B,OACI,cAACH,EAAYI,SAAb,CAAsBC,MAAOF,EAAME,MAAnC,SACKF,EAAMG,YC/BEC,E,uKAIP,IAAD,OAECC,EAAY,SAAC,GAAsB,IAArB3B,EAAoB,EAApBA,MAChB,OADoC,EAAb4B,QAGnB,qCACI,uBAAK,sBAAMC,UAAW7B,EAAM8B,UAAY,kBAAoB,oBAAvD,SAA6E9B,EAAM8B,UAAY,YAAc,mBAGnH,8BAGX,OACA,sBACID,UAAU,kBACVE,QAAS,kBAAM,EAAKT,MAAMS,QAAQ,EAAK/B,MAAMN,KAFjD,UAII,qBAAKmC,UAAU,cAAf,SACI,qBAAKG,IAAK7B,KAAKH,MAAMiC,UAAWC,IAAI,GAAGC,QAAShC,KAAKiC,eAEzD,sBAAKP,UAAU,aAAf,UACI,qBAAKA,UAAU,cAAf,SAA8B1B,KAAKH,MAAMqC,QACzC,sBAAKR,UAAU,QAAf,2BACmB1B,KAAKmC,YAAYnC,KAAKH,MAAMuC,aAC3C,uBAFJ,eAEsBpC,KAAKmC,YAAYnC,KAAKH,MAAMwC,WAC9C,cAACb,EAAD,CAAW3B,MAAOG,KAAKH,MAAO4B,QAASzB,KAAKsC,QAAQb,qB,kCAWxDc,GACR,MAAM,IAAN,OAAWA,EAAMC,QAAQ,M,iCAGlBC,GACPA,EAAEC,OAAOb,IAAM,iF,4BARf,OAAO7B,KAAKmB,MAAMtB,U,GArCa8C,aAAlBpB,EAEVqB,YAAc5B,E,UCHJ6B,E,kDAEjB,WAAY1B,GAAQ,IAAD,sBAEf,IAAM2B,GADN,cAAM3B,IACgBA,MAAM2B,UAAY,GAFzB,OAGf,EAAKC,MAAQ,CACTD,SAAUE,EAAaF,IAG3BG,OAAOC,iBAAiB,UAAU,WAC3B,EAAKC,YACJ,EAAKC,SAAS,CAACN,SAAUE,EAAaF,QAT/B,E,qDAgBf,IAAMO,EAAM,GADP,EAEiCrD,KAAKmB,MAAnCmC,EAFH,EAEGA,KAAMC,EAFT,EAESA,WAAYC,EAFrB,EAEqBA,QACpBC,EAAMzD,KAAK+C,MAAMD,SACnBY,EAAQJ,EAAOK,KAAKC,MAAMH,EAAM,GAChCF,EAAaG,EAASD,IACtBC,EAAQH,EAAaE,GAEtBC,EAAQ,IAAGA,EAAQ,GACtB,IATK,eASIG,GACLR,EAAIS,KAAK,oBAAIpC,UAAS,qCAAgC4B,IAASO,EAAI,SAAW,IAArE,SAAmF,wBAAQnC,UAAU,YAAYE,QAAS,kBAAM4B,EAAQK,IAArD,SAA0DA,EAAI,KAAjEA,KADpFA,EAAIH,EAAOG,EAAIN,GAAcF,EAAIU,OAASN,EAAKI,IAAM,EAArDA,GAIT,OACI,qBAAKnC,UAAU,gCAAf,SACI,qBAAKsC,aAAW,0BAAhB,SACI,qBAAItC,UAAU,aAAd,UACI,oBAAIA,UAAU,YAAd,SAA0B,wBAAQA,UAAU,YAAYuC,KAAK,IAAIrC,QAAS5B,KAAKmB,MAAM+C,MAAOC,SAAmB,IAATb,EAA5E,oBAC1B,oBAAI5B,UAAU,YAAd,SAA0B,wBAAQA,UAAU,YAAYuC,KAAK,IAAIrC,QAAS5B,KAAKmB,MAAMiD,KAAMD,SAAmB,IAATb,EAA3E,sBACzBD,EACD,oBAAI3B,UAAU,YAAd,SAA0B,wBAAQA,UAAU,YAAYE,QAAS5B,KAAKmB,MAAMkD,KAAMF,SAAUnE,KAAKsE,WAAvE,sBAC1B,oBAAI5C,UAAU,YAAd,SAA0B,wBAAQA,UAAU,YAAYE,QAAS5B,KAAKmB,MAAMoD,KAAMJ,SAAUnE,KAAKsE,WAAvE,6B,0CAQ1CtE,KAAKmD,YAAa,I,iCAIlB,OAAOnD,KAAKmB,MAAMmC,KAAO,GAAKtD,KAAKmB,MAAMoC,e,GAlDVZ,aAkErC,SAASK,EAAaF,GAClB,IAAI0B,EAbV,WACI,IAAMC,EAAQd,KAAKF,IACjBiB,SAASC,gBAAgBC,YACzB3B,OAAO4B,YAAc,GAEvB,OAAIJ,GAAS,IAAY,KACrBA,GAAS,IAAY,KACrBA,GAAS,IAAY,KACrBA,GAAS,KAAa,KACnB,KAIIK,GACLC,EAASjC,EAKb,MAJU,OAAP0B,EAAaO,EAAS,EACV,OAAPP,EAAaO,EAAS,IACf,OAAPP,GACO,OAAPA,KADaO,EAAS,IAEvBjC,EAAWiC,EAASjC,EAAWiC,EC1ErC,IAkBQC,EAlBf,uKAEQ,OACI,mCACI,wBAAQ3D,MAAOrB,KAAKmB,MAAME,MAAO4D,SAAUjF,KAAKmB,MAAM8D,SAAUvD,UAAU,6BAA1E,SAEQ1B,KAAKmB,MAAM+D,QAAQC,KAAI,SAAAC,GACnB,OACI,wBAAwB/D,MAAO+D,EAAI/D,MAAnC,SAA2C+D,EAAIC,OAAlCD,EAAI/D,kBARjD,GAA4BsB,aCMP2C,E,kDAInB,WAAYnE,GAAQ,IAAD,8BACjB,cAAMA,IAgBRoE,YAAc,SAAC9C,GACb,GAAc,UAAVA,EAAE+C,IAAiB,CACrB,IAAIrG,EAAM,2BAAO,EAAK4D,MAAM5D,QAAlB,IAA0B+C,MAAOO,EAAEC,OAAOrB,MAAOiC,KAAM,IACjE,EAAKF,SAAS,CAACjE,WACf,EAAKsG,WAAWtG,KArBD,EAyBnBuG,mBAAqB,SAACjD,GACpB,IAAMtD,EAAM,eAAO,EAAK4D,MAAM5D,QAC1BA,EAAOwG,KAAKC,WAAW,MACzBzG,EAAOwG,KAAOxG,EAAOwG,KAAKE,OAAO,GACjC1G,EAAOmE,KAAO,EACd,EAAKF,SAAS,CAAE0C,SAAU,4BAE1B3G,EAAOwG,KAAO,IAAMxG,EAAOwG,KAC3B,EAAKvC,SAAS,CAAE0C,SAAU,yBAG5B,EAAK1C,SAAS,CAACjE,WACf,EAAKsG,WAAWtG,IArCC,EAgJnBqE,QAAU,SAACF,GACJA,GAAQ,GAAKA,EAAO,EAAKC,YAG9B,EAAKH,SAAS,CAACjE,OAAO,2BAAK,EAAK4D,MAAM5D,QAAjB,IAAyBmE,UAAQ,EAAKmC,aAlJ3D,EAAK1C,MAAQ,CACXgD,OAAQ,GACR5G,OAAQ,CACNmE,KAAM,EACN0C,SAAU,GACV9D,MAAO,GACPP,UAAW,EACXgE,KAAM,SAERM,aAAc,EACdH,SAAU,yBAEZ,EAAK3E,MAAM+E,OAAOC,SAAS,UAdV,E,qDAwCT,IAAD,OACP,OACE,gCACE,sBAAKzE,UAAU,oBAAf,UACE,sBAAKA,UAAU,WAAf,UACE,qBAAKA,UAAU,WAAf,SACE,sBAAKA,UAAU,cAAf,UACE,cAAC,EAAD,CAAQL,MAAOrB,KAAKoG,UAAWlB,QAAS,CACtC,CAAC7D,MAAO,QAASgE,MAAO,iBACxB,CAAChE,MAAO,QAASgE,MAAO,kBACvBJ,SAAU,eACb,qBAAKvD,UAAU,qBAAf,SACE,wBACEA,UAAU,kBACVE,QAAS5B,KAAK0F,mBAAoB1B,aAAW,WAF/C,SAGE,mBAAGtC,UAAW,MAAQ1B,KAAK+C,MAAM+C,oBAKzC,qBAAKpE,UAAU,WAAf,SACE,sBAAKA,UAAU,cAAf,UACE,uBACE2E,KAAK,OACL3E,UAAU,4BACV4E,YAAY,kBACZC,QAASvG,KAAKuF,cAEhB,qBAAK7D,UAAU,qBAAf,SACE,wBAAQA,UAAU,kBAAkBE,QAAS,kBAAM,EAAK6D,cAAczB,aAAW,SAAjF,SAA0F,mBAAGtC,UAAU,6BAK9G1B,KAAKyB,SACN,qBAAKC,UAAU,MAAf,SACE,qBAAKA,UAAU,SAAf,SACE,sBAAKA,UAAU,cAAf,UACE,cAAC,EAAD,CAAQL,MAAOrB,KAAK+C,MAAM5D,OAAOwC,UAAWuD,QAAS,CACnD,CAAC7D,MAAO,IAAKgE,MAAO,kBACpB,CAAChE,MAAO,IAAKgE,MAAO,oBACpB,CAAChE,MAAO,IAAKgE,MAAO,QACnBJ,SAAU,SAACxC,GACZ,IAAMtD,EAAM,eAAO,EAAK4D,MAAM5D,QAC9BA,EAAOwC,UAAYc,EAAEC,OAAOrB,MAC5BlC,EAAOmE,KAAO,EACd,EAAKF,SAAS,CAACjE,WACf,EAAKsG,WAAWtG,MAElB,qBAAKuC,UAAU,qBAAf,SACE,cAAC8E,EAAD,aAMR,qBAAK9E,UAAU,6BAAf,SACE,qBAAKA,UAAU,+BAAf,SACE,cAAC+E,EAAD,CAAgBnE,QAAStC,cAI/B,qBAAK0B,UAAU,MAAf,SACE,cAACgF,EAAD,CAAYX,OAAQ/F,KAAK+C,MAAMgD,WAEjC,cAACU,EAAD,CAAgBnE,QAAStC,Y,0CAM7BA,KAAKyF,e,mCAGiC,IAAD,OAA5BtG,EAA4B,uDAAnBa,KAAK+C,MAAM5D,OAC7Ba,KAAKsC,QAAQ5B,QAAQxB,YAAYC,GAAQwH,MAAK,SAACC,GAC7C,IAAIC,EAAaD,EAAIxG,QAAQ,iBAC7B,EAAKgD,SAAS,CAAE2C,OAAQa,EAAIE,KAAMb,aAAcY,IAChD,EAAK1F,MAAM+E,OAAOC,SAAS,WAAWU,Q,+BAKxC,OAAO,IAAIE,MAAOC,Y,8BAIlB,OAAOhH,KAAKsC,QAAQb,U,gCAIpB,IAAIkE,EAAO3F,KAAK+C,MAAM5D,OAAOwG,KAC7B,OAAGA,EAAKC,WAAW,KAAaD,EAAKE,OAAO,GACrCF,I,iCAIP,OAAOhC,KAAKsD,KAAKjH,KAAK+C,MAAMkD,aAAejG,KAAK+C,MAAM5D,OAAO6G,Y,kCAI3D,OAAOhG,KAAK+C,MAAM5D,OAAOmE,S,GAjJQX,aA4JvC,SAAS+D,EAAWvF,GAClB,IAAM+F,EAAUC,cAChB,OAAOhG,EAAM4E,OAAOZ,KAAI,SAACtF,GAIvB,OACI,qBAAoB6B,UAAU,2BAA9B,SACE,cAAC,EAAD,CAA0B7B,MAAOA,EAAO+B,QAL9C,SAAqBrC,GACnB2H,EAAQpD,KAAR,UAAgBsD,SAAhB,mBAAiD7H,MAI7BM,EAAMN,KADdM,EAAMN,OAOxB,SAASkH,EAAT,GAAoC,IAAXnE,EAAU,EAAVA,QACvB,OACE,cAAC,EAAD,CACEgB,KAAMhB,EAAQS,MAAM5D,OAAOmE,KAC3BE,QAAS,SAACF,GAAD,OAAUhB,EAAQkB,QAAQF,IACnCC,WAAYjB,EAAQiB,WACpBW,MAAO,kBAAM5B,EAAQkB,QAAQ,IAC7BY,KAAM,kBAAM9B,EAAQkB,QAAQlB,EAAQ+E,YAAc,IAClDhD,KAAM,kBAAM/B,EAAQkB,QAAQlB,EAAQ+E,YAAc,IAClD9C,KAAM,kBAAMjC,EAAQkB,QAAQlB,EAAQiB,WAAa,MAKvD,SAASiD,IACP,IAAMU,EAAUC,cAChB,OACE,yBAAQzF,UAAU,kBAAkBE,QAAS,WAC3CsF,EAAQpD,KAAKsD,sBADf,UAEG,mBAAG1F,UAAU,eAFhB,eA3LiB4D,EAEZ1C,YAAc5B,E,qFCqDRsG,EA3DG,SAACnG,GAAW,IAE1BoG,EAIEpG,EAJFoG,YACA7F,EAGEP,EAHFO,UACA7B,EAEEsB,EAFFtB,MACA2H,EACErG,EADFqG,SALyB,EAQDC,oBAAS,GARR,mBAQpBC,EARoB,KAQbC,EARa,OASHF,mBAAS,CAACG,SAAU,EAAGC,SAAU,IAT9B,mBASpBC,EAToB,KASdC,EATc,KAWrBC,EAAS,WAAOL,GAAUD,IAahC,OACE,gCACE,wBAAQhG,UAAU,wBAAwBuG,MAAM,aAAarG,QAAS,WAAOoG,KAA7E,SAAyFT,IACzF,eAACW,EAAA,EAAD,CAAOC,OAAQT,EAAOM,OAAQA,EAAQtG,UAAWA,EAAjD,UACE,eAAC0G,EAAA,EAAD,CAAaJ,OAAQA,EAArB,yBAA0CnI,EAAMqC,SAChD,cAACmG,EAAA,EAAD,UACI,sBAAK3G,UAAU,aAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,SAAf,UACI,uBAAO4G,QAAQ,YAAf,kBACA,uBAAOjC,KAAK,SAAS9G,GAAG,YAAYmC,UAAU,eAAe6G,IAAK,EAAGC,aAAcV,EAAKF,SAAU3C,SAAU,SAACxC,GAAD,OAAOsF,EAAQ,2BAAID,GAAL,IAAWF,SAAUnF,EAAEC,OAAOrB,iBAGhK,qBAAKK,UAAU,MAAf,SACI,sBAAKA,UAAU,SAAf,UACI,uBAAO4G,QAAQ,WAAf,sBACA,uBAAOjC,KAAK,SAAS9G,GAAG,WAAWmC,UAAU,eAAe6G,IAAK,EAAGC,aAAcV,EAAKD,SAAU5C,SAAU,SAACxC,GAAD,OAAOsF,EAAQ,2BAAID,GAAL,IAAWD,SAAUpF,EAAEC,OAAOrB,iBAG/J,qBAAKK,UAAU,MAAf,SACI,sBAAKA,UAAU,SAAf,oBACYoG,EAAKF,SAAWE,EAAKD,SAAWhI,EAAMuC,sBAK9D,eAACqG,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAQT,MAAM,UAAUrG,QAtCN,WACxB4F,EAASM,GACRnB,MAAK,WACFqB,IACAW,IAAMC,QAAQ,sBAEjBC,OAAM,SAACC,GACJH,IAAMI,MAAMD,EAAIE,SAASlC,KAAKmC,aA+B5B,gBACA,cAACP,EAAA,EAAD,CAAQT,MAAM,YAAYrG,QAASoG,EAAnC,8BCCKkB,EArDO,SAAC/H,GAAW,IAE5BoG,EAIEpG,EAJFoG,YACA7F,EAGEP,EAHFO,UACA7B,EAEEsB,EAFFtB,MACA2H,EACErG,EADFqG,SAL2B,EAQHC,oBAAS,GARN,mBAQtBC,EARsB,KAQfC,EARe,OASGF,mBAAS,CAACI,SAAU,IATvB,mBAStBsB,EATsB,KASZC,EATY,KAWvBpB,EAAS,WAAOL,GAAUD,IAahC,OACE,gCACE,wBAAQhG,UAAU,wBAAwBuG,MAAM,aAAarG,QAAS,WAAOoG,KAA7E,SAAyFT,IACzF,eAACW,EAAA,EAAD,CAAOC,OAAQT,EAAOM,OAAQA,EAAQtG,UAAWA,EAAjD,UACE,eAAC0G,EAAA,EAAD,CAAaJ,OAAQA,EAArB,6BAA8CnI,EAAMqC,SACpD,cAACmG,EAAA,EAAD,UACI,sBAAK3G,UAAU,aAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,SAAf,UACI,uBAAO4G,QAAQ,WAAf,sBACA,uBAAOjC,KAAK,SAAS9G,GAAG,WAAWmC,UAAU,eAAe6G,IAAK,EAAGC,aAAcW,EAAStB,SAAU5C,SAAU,SAACxC,GAAD,OAAO2G,EAAY,2BAAID,GAAL,IAAetB,SAAUpF,EAAEC,OAAOrB,iBAG3K,qBAAKK,UAAU,MAAf,SACI,sBAAKA,UAAU,SAAf,oBACYyH,EAAStB,SAAWhI,EAAMwC,oBAKlD,eAACoG,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAQT,MAAM,UAAUrG,QAhCF,WAC5B4F,EAAS2B,GACRxC,MAAK,WACJqB,IACAW,IAAMC,QAAQ,0BAEjBC,OAAM,SAACC,GACJH,IAAMI,MAAMD,EAAIE,SAASlC,KAAKmC,aAyB1B,gBACA,cAACP,EAAA,EAAD,CAAQT,MAAM,YAAYrG,QAASoG,EAAnC,8BC1CCqB,EAAb,kDAII,WAAYlI,GAAQ,IAAD,8BACf,cAAMA,IA8FVmI,OAAS,SAACnK,GACN,OAAO,EAAKmD,QAAQ5B,QAAQlB,UAAU,EAAK+J,QAASpK,IAhGrC,EAmGnBgK,SAAW,SAAChK,GACR,OAAO,EAAKmD,QAAQ5B,QAAQf,cAAc,EAAK4J,QAASpK,IApGzC,EAuGnBqK,gBAAkB,WACd,OAAO,EAAKlH,QAAQ5B,QAAQ8I,gBAAgB,EAAKD,SAChD5C,MAAK,SAAAC,GACF,EAAKxD,SAAS,CAACvD,MAAM,2BAAM,EAAKkD,MAAMlD,OAAlB,IAAyB8B,UAAWiF,EAAIE,KAAKnF,cACjEgH,IAAMC,QAAN,2BAAkChC,EAAIE,KAAKnF,UAAY,YAAc,mBAExEkH,OAAM,SAAAC,GAAG,OAAIA,EAAIE,SAASlC,KAAKmC,YA3GhC,EAAKlG,MAAQ,CACTlD,MAAO,GACP4J,UAAU,IAAI1C,MAAOC,WAJV,EAJvB,qDAac,IAAD,OACEnH,EAASG,KAAK+C,MAAdlD,MAED6J,EAAS,WACX,IAAMxC,EAAUC,cACTtH,EAAS,EAAKkD,MAAdlD,MAGP,OACI,sBAAK6B,UAAU,gDAAf,UACI,wBAAQA,UAAU,yCAAyCE,QAAS,kBAAIsF,EAAQyC,UAAhF,SAA0F,mBAAGjI,UAAU,uBACvG,wBAAQA,UAAU,iBAAiB2E,KAAK,SAASuD,cAAY,WAAWC,cAAY,qBAAqBC,gBAAc,oBAAoBC,gBAAc,QAAQ/F,aAAW,oBAA5K,SACI,sBAAMtC,UAAU,0BAEpB,qBAAKA,UAAU,2BAA2BnC,GAAG,oBAA7C,SACI,qBAAImC,UAAU,qBAAd,UACK,EAAKY,QAAQxB,YACV,qCACI,oBAAIY,UAAU,sBAAd,SACI,cAAC,EAAD,CACA6F,YAAY,OACZ1H,MAAOA,EACP2H,SAAU,EAAK8B,WAGnB,oBAAI5H,UAAU,sBAAd,SACA,cAAC,EAAD,CACI6F,YAAY,WACZ1H,MAAOA,EACP2H,SAAU,EAAK2B,gBAI1B,EAAK1H,SACN,qCACA,oBAAIC,UAAU,uBAAd,SACI,wBAAQA,UAAS,cAAS7B,EAAM8B,UAAY,cAAe,uBAAyBC,QAAS,kBAAM,EAAK4H,mBAAxG,mBAA+H3J,EAAM8B,UAAY,YAAc,mBAEnK,oBAAID,UAAU,uBAAd,SACI,wBAAQA,UAAU,wBAAwBE,QAAS,kBAAM,EAAKT,MAAM6I,WAAW,EAAKjH,MAAMlD,MAAOqH,IAAjG,oBAEJ,oBAAIxF,UAAU,uBAAd,SACI,wBAAQA,UAAU,wBAAlB,kCAWxB,OACI,gCACI,cAACgI,EAAD,CAAQpH,QAAStC,OACjB,gCACI,6BAAKH,EAAMqC,QACX,sBAAM+H,MAAO,CAACC,WAAY,QAA1B,2BAFJ,IAE6DlK,KAAKmC,YAAYtC,EAAMuC,aAAa,uBAC7F,sBAAM6H,MAAO,CAACC,WAAY,QAA1B,yBAHJ,IAG2DlK,KAAKmC,YAAYtC,EAAMwC,WAC9E,4BACKxC,EAAMsK,iBAGf,8BACKtK,EAAMuK,aAAevK,EAAMuK,YAAYjF,KAAI,SAACkF,GACzC,OACI,qBAAqB3I,UAAU,cAA/B,SACI,qBAAKG,IAAKwI,EAAMC,IAAKvI,IAAI,MADnBsI,EAAMC,eAhF5C,0CA2FQtK,KAAKmD,YAAa,EAClBnD,KAAKuK,cA5Fb,6CAgGQvK,KAAKmD,YAAa,IAhG1B,kKA6H4BnD,KAAKsC,QAAQ5B,QAAQpB,iBAAiBU,KAAKuJ,SA7HvE,OA6Hc1J,EA7Hd,OA8HQG,KAAKoD,SAAS,CAACvD,MAAOA,EAAMiH,OAC5B9G,KAAKmB,MAAM+E,OAAOC,SAAStG,EAAMiH,KAAK5E,OAAS,aA/HvD,wIAkIgBK,GACR,OAAGA,EAAa,IAAN,OAAWA,EAAMC,QAAQ,IAC5B,UApIf,8BAqHQ,OAAOxC,KAAKmB,MAAMqJ,MAAMrL,OAAOI,KArHvC,8BAyHQ,OAAOS,KAAKsC,QAAQb,YAzH5B,GAAiCkB,aAApB0G,EAEFzG,YAAc5B,EAsIVqI,QC1IFoB,G,MAAb,kDAII,WAAYtJ,GAAQ,IAAD,sBACf,cAAMA,GACN,IAAMtB,EAAK,eAAO,EAAKsB,MAAMtB,SAFd,OAGXA,EAAMuK,cAAavK,EAAMuK,YAAc,IAC3C,EAAKrH,MAAQ,CACTlD,QACAoJ,QAAS,GACTyB,SAAU,IAEd,EAAKvJ,MAAM+E,OAAOC,SAAlB,UAA8B,EAAKpD,MAAMlD,MAAMN,GAAK,aAAe,cATpD,EAJvB,qDAgBc,IAAD,OAECoL,EAAa,SAACxJ,GAChB,IAAI+F,EAAUC,cACd,OACI,wBAAQzF,UAAU,uBAAuBE,QAAS,kBAAM,EAAKgJ,UAAU1D,IAAvE,mBAIF2D,EAAe,SAAC1J,GAClB,IAAI+F,EAAUC,cACd,OACI,wBAAQzF,UAAU,oBAAoBE,QAAS,kBAAMsF,EAAQyC,UAA7D,qBAIFD,EAAS,WACX,OACI,qBAAKhI,UAAU,4DAAf,SACI,qBAAIA,UAAU,aAAd,UACI,oBAAIA,UAAU,WAAd,SACI,cAACiJ,EAAD,MAEJ,oBAAIjJ,UAAU,WAAd,SACI,cAACmJ,EAAD,YAOdhL,EAAK,eAAQG,KAAK+C,MAAMlD,OACxBiL,EAAkB,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAEvB,OACI,qBAAKrJ,UAAS,2BAAsB,EAAKqB,MAAMkG,QAAQ8B,GAAS,UAAY,IAA5E,SACK,EAAKhI,MAAMkG,QAAQ8B,MAIhC,OACI,qCACI,cAACrB,EAAD,CAAQsB,KAAMhL,OACd,sBAAK0B,UAAU,aAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,SAAf,UACI,uBAAO4G,QAAQ,QAAf,mBACA,uBACIjC,KAAK,OACL9G,GAAG,QACHiJ,aAAc3I,EAAMqC,MACpBR,UAAU,eACVuD,SAAU,SAACxC,GAAD,OACN,EAAKW,SAAS,CAAEvD,MAAM,2BAAMA,GAAP,IAAcqC,MAAOO,EAAEC,OAAOrB,aAG3D,cAACyJ,EAAD,CAAiBC,MAAM,eAG/B,qBAAKrJ,UAAU,MAAf,SACI,sBAAKA,UAAU,SAAf,UACI,uBAAO4G,QAAQ,cAAf,yBACA,0BACI/I,GAAG,cACH0L,KAAK,KACLvJ,UAAU,eACV8G,aAAc3I,EAAMsK,YACpBlF,SAAU,SAACxC,GAAD,OACN,EAAKW,SAAS,CACVvD,MAAM,2BAAMA,GAAP,IAAcsK,YAAa1H,EAAEC,OAAOrB,aAIrD,cAACyJ,EAAD,CAAiBC,MAAM,qBAG/B,sBAAKrJ,UAAU,MAAf,UACI,sBAAKA,UAAU,WAAf,UACI,uBAAO4G,QAAQ,QAAf,mBACA,uBACIjC,KAAK,SACL6E,KAAK,QACL3L,GAAG,QACHmC,UAAU,eACV6G,IAAK,EACLlH,MAAOxB,EAAMsL,MACblG,SAAU,SAACxC,GAAD,OACN,EAAKW,SAAS,CAAEvD,MAAM,2BAAMA,GAAP,IAAcsL,MAAO1I,EAAEC,OAAOrB,aAG3D,cAACyJ,EAAD,CAAiBC,MAAM,aAE3B,sBAAKrJ,UAAU,WAAf,UACI,uBAAO4G,QAAQ,QAAf,0BACA,uBACIjC,KAAK,SACL6E,KAAK,cACL3L,GAAG,cACHmC,UAAU,eACV6G,IAAK,EACLC,aAAc3I,EAAMuC,YACpB6C,SAAU,SAACxC,GAAD,OACN,EAAKW,SAAS,CACVvD,MAAM,2BAAMA,GAAP,IAAcuC,YAAaK,EAAEC,OAAOrB,aAIrD,cAACyJ,EAAD,CAAiBC,MAAM,mBAE3B,sBAAKrJ,UAAU,WAAf,UACI,uBAAO4G,QAAQ,YAAf,wBACA,uBACIjC,KAAK,SACL6E,KAAK,YACL3L,GAAG,cACHmC,UAAU,eACV6G,IAAK,EACLC,aAAc3I,EAAMwC,UACpB4C,SAAU,SAACxC,GAAD,OACN,EAAKW,SAAS,CAAEvD,MAAM,2BAAMA,GAAP,IAAcwC,UAAWI,EAAEC,OAAOrB,aAG/D,cAACyJ,EAAD,CAAiBC,MAAM,oBAG/B,qBAAKrJ,UAAU,MAAf,SACI,sBAAKA,UAAU,SAAf,UACI,uBAAO4G,QAAQ,WAAf,uBACA,sBAAK5G,UAAU,cAAf,UACI,uBAAO2E,KAAK,OACZ3E,UAAU,eACVuD,SAAU,SAACxC,GAAD,OACN,EAAKW,SAAS,CAACsH,SAAUjI,EAAEC,OAAOrB,WAGtC,qBAAKK,UAAU,qBAAf,SACI,wBAAQA,UAAU,kBAAkBE,QAAS,kBAAM,EAAKwJ,YAAxD,SACI,mBAAG1J,UAAU,sBAIzB,cAACoJ,EAAD,CAAiBC,MAAM,wBAInC,qBAAKrJ,UAAU,SAAf,SAEQ1B,KAAK+C,MAAMlD,MAAMuK,YAAYjF,KAAI,SAAAkF,GAC7B,OACI,sBAAK3I,UAAU,YAAf,UACI,qBAAKG,IAAKwI,EAAMC,IAAK5I,UAAU,gBAC/B,wBAAQA,UAAU,6CAA6CE,QAAS,kBAAM,EAAKyJ,YAAYhB,EAAMC,MAArG,SAA2G,mBAAG5I,UAAU,+BAvK5J,iCAkLQ,IAAI4I,EAAMtK,KAAK+C,MAAM2H,SACrB,GAAGJ,EAAK,CACJ,IAAMzK,EAAK,eAAOG,KAAK+C,MAAMlD,OAC7BA,EAAMuK,YAAYtG,KAAK,CAACwG,QACxBtK,KAAKoD,SAAS,CAACvD,aAtL3B,kCA0LgByK,GACR,IAAIzK,EAAK,eAAOG,KAAK+C,MAAMlD,OAC3BA,EAAMuK,YAAcvK,EAAMuK,YAAYkB,QAAO,SAAAjB,GAAK,OAAIA,EAAMC,MAAQA,KACpEtK,KAAKoD,SAAL,2BAAkBpD,KAAK+C,OAAvB,IAA8BlD,aA7LtC,gCAgMcqH,GAAU,IAAD,OAEf,OADclH,KAAKsC,QAAQ5B,QACZkK,UAAU5K,KAAK+C,MAAMlD,OAAO8G,MAAK,SAAAC,GACzC,EAAK7D,MAAMlD,MAAMN,GAChB2H,EAAQyC,SAEPzC,EAAQpD,KAAKsD,iBAAkCR,EAAIE,KAAKvH,OAE5DsJ,OAAM,SAAAC,GACH,IAAIG,EAAU,GACdH,EAAIE,SAASlC,KAAKyE,SAAQ,SAAAC,GACtBvC,EAAQuC,EAAET,OAASS,EAAEzC,MAAME,WAE/B,EAAK7F,SAAL,2BAAmB,EAAKL,OAAxB,IAA+BkG,oBA7M/C,GAA+BtG,cAAlB8H,EAEF7H,YAAc5B,EAgNVyJ,QCrNMf,G,wDACnB,WAAYvI,GAAQ,IAAD,8BACjB,cAAMA,IACD4B,MAAQ,CACXb,MAAO,IAETf,EAAM+E,OAAOC,SAAW,SAACjE,GAAD,OAAW,EAAKkB,SAAS,CAAClB,MAAOA,KALxC,E,qDAQjB,OACE,sBAAKR,UAAU,6DAAf,UAEE,qBAAIA,UAAU,aAAd,UACE,oBAAIA,UAAU,WAAd,SACE,wBACEA,UAAU,WACV+J,cAAY,WACZxB,MAAO,CAAEyB,WAAY,cAAeC,OAAQ,QAC5C3H,aAAW,mBAJb,SAME,mBAAGtC,UAAU,oBAGjB,oBAAIA,UAAU,WAAd,SACE,qBAAKA,UAAU,YAAf,SAA4B1B,KAAK+C,MAAMb,aAK3C,oBAAIR,UAAU,qBAAd,SAKE,oBAAIA,UAAU,sB,GAlCYiB,c,gBCEfiJ,E,uKAIP,IAAD,OAEP,SAASC,EAAT,GAAoC,IAAjBC,EAAgB,EAAhBA,KAAgB,EAAVxJ,QACvB,OAAGwJ,GAAQA,EAAKhL,WACd,qCACE,qBAAKY,UAAU,QAAf,SACE,qBAAKG,IAAKiK,EAAKrL,KAAKsL,QAASrK,UAAU,yBAAyBK,IAAK,gBAEvE,qBAAKL,UAAU,OAAf,SACE,sBAAMuC,KAAK,IAAIvC,UAAU,UAAUuI,MAAO,CAAChC,MAAO,SAAlD,SAA6D6D,EAAKrL,KAAKuL,gBAO3E,qBAAKtK,UAAU,uBAAuBuI,MAAO,CAAChC,MAAO,SAArD,SACE,mDAKN,IAAMgE,EAAe,SAAC,GAAc,IAAZH,EAAW,EAAXA,KACtB,OAAGA,GAAQA,EAAK7M,IAChB,mCACE,oBAAIyC,UAAU,2BAAd,SACE,yBAAQ2E,KAAK,SAAS3E,UAAU,wBAAwBE,QAAS,EAAKT,MAAM+K,OAA5E,UACE,mBAAGxK,UAAU,iCACb,8CAQJ,oBAAIA,UAAU,2BAAd,SACE,yBAAQ2E,KAAK,SAAS3E,UAAU,wBAAwBE,QAAS,EAAKT,MAAMgL,mBAA5E,UACE,mBAAGzK,UAAU,gCACb,4CAQN,OACI,wBAAOA,UAAU,gDAAjB,UAEV,oBAAGuC,KAAK,cAAcvC,UAAU,aAAhC,UACE,qBAAKG,IAAKuF,mCAAqDrF,IAAI,gBAAgBL,UAAU,qCAAqCuI,MAAO,CAACmC,QAAS,QACnJ,sBAAM1K,UAAU,+BAAhB,2BAGF,cAACV,EAAYqL,SAAb,UACG,SAAAP,GAAS,OACZ,sBAAKpK,UAAU,UAAf,UAGQ,mCACA,qBAAKA,UAAU,mCAAf,SACE,cAACmK,EAAD,CAAUC,KAAMA,EAAMxJ,QAAS,QAKvC,qBAAKZ,UAAU,OAAf,SACE,qBAAIA,UAAU,wCAAwC+J,cAAY,WAAWa,KAAK,OAAOC,iBAAe,QAAxG,UAGG,cAACN,EAAD,CAAcH,KAAMA,IACrB,oBAAIpK,UAAU,WAAd,SACE,eAAC,IAAD,CAAM8K,GAAIpF,gBAAkC1F,UAAU,WAAtD,UACE,mBAAGA,UAAU,uBACb,4CAKJ,oBAAIA,UAAU,WAAd,SACE,oBAAGuC,KAAK,YAAYvC,UAAU,WAA9B,UACE,mBAAGA,UAAU,yBACb,yE,GAvF0BiB,aAAjBiJ,EAEZhJ,YAAc5B,ECLhB,IAkCQyL,EAlCf,kDACI,WAAYtL,GAAQ,IAAD,8BACf,cAAMA,IACD4B,MAAQ,CACTb,MAAO,YAHI,EADvB,qDASQ,OACI,sBAAKR,UAAU,kBAAf,UACI,yBAASA,UAAU,mBAGnB,yBAASA,UAAU,UAAnB,SACI,qBAAKA,UAAU,kBAAf,SACI,qBAAKA,UAAU,MAAf,SACI,qBAAKA,UAAU,SAAf,SACI,qBAAKA,UAAU,OAAf,SACI,qBAAKA,UAAU,YAAf,SAEQ1B,KAAKmB,MAAMuL,2BArBvD,GAA6B/J,aCsDdgK,G,MApDG,SAACxL,GAEf,IAAM/B,EAAKa,IAAML,OAAO,CACpBM,QAAS,IACTC,QAAwC,cACxCC,QAAS,KAUT+H,EAGIhH,EAHJgH,OACAH,EAEI7G,EAFJ6G,OACA4E,EACIzL,EADJyL,aAjBqB,EAoBCnF,mBAAS,CAAC5G,SAAU,GAAIgM,SAAU,KApBnC,mBAoBlBC,EApBkB,KAoBXC,EApBW,KAsBzB,OACI,8BACI,eAAC7E,EAAA,EAAD,CAAOC,OAAQA,EAAQH,OAAQA,EAA/B,UACI,cAACI,EAAA,EAAD,CAAaJ,OAAQA,EAArB,mBACA,cAACK,EAAA,EAAD,UACI,sBAAK3G,UAAU,aAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,SAAf,UACI,uBAAO4G,QAAQ,WAAf,sBACA,uBAAOjC,KAAK,OAAO9G,GAAG,WAAWmC,UAAU,eAAeuD,SAAU,SAACxC,GAAD,OAAOsK,EAAS,2BAAID,GAAL,IAAYjM,SAAU4B,EAAEC,OAAOrB,iBAG1H,qBAAKK,UAAU,MAAf,SACI,sBAAKA,UAAU,SAAf,UACI,uBAAO4G,QAAQ,WAAf,sBACA,uBAAOjC,KAAK,WAAW9G,GAAG,WAAWmC,UAAU,eAAeuD,SAAU,SAACxC,GAAD,OAAOsK,EAAS,2BAAID,GAAL,IAAYD,SAAUpK,EAAEC,OAAOrB,sBAMtI,eAACoH,EAAA,EAAD,WACI,cAACC,EAAA,EAAD,CAAQT,MAAM,UAAUrG,QApC1B,WACV,OAAOxC,EAAGM,KAAK,GAAIoN,GAAOnG,MAAK,SAACC,GAC5BgG,EAAahG,EAAIE,UAkCT,mBACA,cAAC4B,EAAA,EAAD,CAAQT,MAAM,YAAYrG,QAASoG,EAAnC,8BC4BLgF,MA7Df,WAEEC,qBAAU,WACR,IAAIC,EAAOvM,aAAawM,QAAQ,QAC5BC,EAAQC,KAAKC,MAAMJ,GACpBA,IACGpB,EAAK7M,KAAO6M,EAAK7M,MAAQmO,EAAMnO,KACjCsO,EAAQ,IAAI/M,EAAK4M,QAPV,MAYqB3F,oBAAS,GAZ9B,mBAYN+F,EAZM,KAYKC,EAZL,OAcWhG,mBAAS,IAAIjH,EAAK,KAd7B,mBAcNsL,EAdM,KAcAyB,EAdA,KAePG,EAAgB,CAACvH,SAAU,cAE3BwH,EAAOvG,SAETvH,EAAQ,GAGN+N,EACJ,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAMF,EAAK,IAAKG,OAAK,EAA5B,SAA6B,cAAC,IAAD,CAAUtB,GAAImB,EAAK,cAChD,cAAC,IAAD,CAAOE,KAAMF,EAAK,UAAWG,OAAK,EAAlC,SACE,cAAC,EAAD,CAAW5H,OAAQwH,MAErB,cAAC,IAAD,CAAOG,KAAMF,EAAK,cAAeI,OAAQ,SAAC5M,GAAD,OAAW,cAAC,EAAD,2BAAeA,GAAf,IAAsB+E,OAAQwH,EAAe7N,MAAO,mBACxG,cAAC,IAAD,CAAOgO,KAAMF,EAAK,eAAgBI,OAAQ,SAAC5M,GAAD,OAAW,cAAC,EAAD,2BAAeA,GAAf,IAAsB+E,OAAQwH,EAAe7N,MAAO,kBAAMA,SAC/G,cAAC,IAAD,CAAOgO,KAAMF,EATO,cASeG,OAAK,EAACC,OAAQ,SAAC5M,GAAD,OAAW,cAAC,EAAD,2BAAiBA,GAAjB,IAAwB+E,OAAQwH,EAAe1D,WAAY,SAACgE,EAAG9G,GACzHrH,EAAK,eAAOmO,GACZ3N,QAAQC,IAAI,mBAAoBT,GAChCqH,EAAQpD,KAAR,UAAgB6J,EAAhB,2BAKN,OACE,cAAC,IAAD,UACI,cAAC,EAAD,CAActM,MAAOyK,EAArB,SACE,sBAAKpK,UAAU,cAAf,UACE,cAAC,IAAD,CAAgBuM,UAAW,MAC3B,cAAC,EAAD,CAAW9F,OAAQqF,EAAWxF,OA9BpB,kBAAMyF,GAAcD,IA8BqBZ,aAAc,SAACd,GAC9DyB,EAAQ,IAAI/M,EAAKsL,IACjB2B,GAAa,GACbpN,QAAQC,IAAI,oBAAqB+M,KAAKa,UAAUpC,IAChDnL,aAAawN,QAAQ,OAAQd,KAAKa,UAAUpC,OAEhD,cAAC,EAAD,CAAQ5F,OAAQwH,IAChB,cAAC,EAAD,CAAUvB,mBAAoB,kBAAMsB,GAAa,IAAOvB,OAAQ,WAC9DJ,EAAKI,SACLqB,EAAQ,IAAI/M,EAAK,QAEnB,cAAC,EAAD,CAASkM,QAASkB,EAAQ1H,OAAQwH,YC1D/BU,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB3H,MAAK,YAAkD,IAA/C4H,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASb,OACP,cAAC,IAAMc,WAAP,UACE,cAAC,EAAD,MAEFnK,SAASoK,eAAe,SAM1BV,M","file":"static/js/main.40df00d3.chunk.js","sourcesContent":["import axios from 'axios'\n\nexport class MovieService {\n    constructor(jwt) {\n        this.ax = axios.create({\n            timeout: 2000,\n            baseURL: process.env.REACT_APP_BASE_URL+\"/api/v1\",\n            headers: {'Authorization': 'Bearer ' + jwt}\n        });\n    }\n\n    fetchMovies = (params = {}) => {\n        return this.ax.get('/movies', {params});\n    }\n\n    fetchMovieDetail = (id) => {\n        return this.ax.get(`/movies/${id}`);\n    }\n\n    rentMovie = (id, body) => {\n        return this.ax.post(`/movies/${id}/rents`, body);\n    }\n\n    purchaseMovie = (id, body) => {\n        return this.ax.post(`/movies/${id}/purchases`, body);\n    }\n\n    toggleAvailable(id) {\n        console.log(\"available\", id)\n        return this.ax.patch(`/movies/${id}/available`)\n    }\n\n    saveMovie(movie) {\n        return movie.id? this.update(movie) : this.create(movie);\n    }\n\n    create = (movie) => {return this.ax.post('/movies', movie)}\n    update = (movie) => {return this.ax.put(`/movies/${movie.id}`, movie)}\n\n    \n}\n","import React, { createContext } from 'react'\nimport {MovieService} from 'service/MovieService'\n\n\nexport class Auth {\n    constructor({jwt = '', user}) {\n        this.jwt = jwt;\n        this.user = user;\n        this.service = new MovieService(jwt);\n    }\n  \n    get isLoggedIn() {\n      if(this.user && this.user.username) return true;\n      return false;\n    }\n  \n    get isAdmin() {\n      return this.isLoggedIn && this.user.admin;\n    }\n\n    logout() {\n      this.jwt = '';\n      this.user = {};\n      localStorage.removeItem(\"auth\");\n    }\n  }\n\n  \n\n  export const AuthContext = createContext();\n\n  export const AuthProvider = props => {\n\n    return (\n        <AuthContext.Provider value={props.value}>\n            {props.children}\n        </AuthContext.Provider>\n    )\n  }","import \"./MovieItem.scss\";\nimport React, { Component } from \"react\";\nimport { AuthContext } from 'components/Auth'\n\nexport default class MovieItem extends Component {\n\n    static contextType = AuthContext;\n\n    render() {\n\n        const Available = ({movie, isAdmin}) => {\n            if(isAdmin)\n            return (\n                <>\n                    <br/><span className={movie.available ? 'movie-available' : 'movie-unavailable'}>{movie.available ? 'Available' : 'Unavailable'}</span>\n                </>\n            )\n            return <></>;\n        }\n\n        return (\n        <div\n            className=\"movie-item card\"\n            onClick={() => this.props.onClick(this.movie.id)}\n        >\n            <div className=\"movie-image\">\n                <img src={this.movie.thumbnail} alt=\"\" onError={this.imgOnError}/>\n            </div>\n            <div className=\"movie-info\">\n                <div className=\"movie-title\">{this.movie.title}</div>\n                <div className=\"price\">\n                    Rental price: {this.formatPrice(this.movie.rentalPrice)} \n                    <br/>Sale price: {this.formatPrice(this.movie.salePrice)}\n                    <Available movie={this.movie} isAdmin={this.context.isAdmin} />    \n                </div>\n            </div>\n        </div>\n        );\n    }\n\n    get movie() {\n        return this.props.movie;\n    }\n\n    formatPrice(price) {\n        return `$${price.toFixed(2)}`\n    }\n\n    imgOnError(e) {\n        e.target.src = \"https://www.thermaxglobal.com/wp-content/uploads/2020/05/image-not-found.jpg\"\n\n    }\n}\n","import './Paginator.scss'\nimport React, { Component } from 'react'\n\nexport default class Paginator extends Component {\n\n    constructor(props) {\n        super(props)\n        const maxPages = this.props.maxPages || 10;\n        this.state = {\n            maxPages: calcMaxPages(maxPages)\n        }\n\n        window.addEventListener(\"resize\", () => {\n            if(this._isMounted) {\n                this.setState({maxPages: calcMaxPages(maxPages)})\n            }\n            \n        })\n    }\n\n    render() {\n        const arr = [];\n        const { page, totalPages, setPage } = this.props;\n        const max = this.state.maxPages\n        let start = page - Math.floor(max / 2)\n        if((totalPages - start) < max) {\n            start = totalPages - max\n        }\n        if(start < 0) start = 0\n        for (let i = start; i < totalPages && arr.length < max; i++) {\n            arr.push(<li className={`page-item page-item-number ${page === i ? \"active\" : \"\"}`} key={i}><button className=\"page-link\" onClick={() => setPage(i)}>{i + 1}</button></li>)\n            \n        }\n        return (\n            <div className=\"d-flex justify-content-center\">\n                <nav aria-label=\"Page navigation example\">\n                    <ul className=\"pagination\">\n                        <li className=\"page-item\"><button className=\"page-link\" href=\"#\" onClick={this.props.first} disabled={page === 0}>«</button></li>\n                        <li className=\"page-item\"><button className=\"page-link\" href=\"#\" onClick={this.props.prev} disabled={page === 0}>‹</button></li>\n                        {arr}\n                        <li className=\"page-item\"><button className=\"page-link\" onClick={this.props.next} disabled={this.isLastPage}>›</button></li>\n                        <li className=\"page-item\"><button className=\"page-link\" onClick={this.props.last} disabled={this.isLastPage }>»</button></li>\n                    </ul>\n                </nav>\n            </div>\n        )\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n    }\n\n    get isLastPage() {\n        return this.props.page + 1 >= this.props.totalPages\n    }\n}\n\nfunction getViewport () {\n    const width = Math.max(\n      document.documentElement.clientWidth,\n      window.innerWidth || 0\n    )\n    if (width <= 576) return 'xs'\n    if (width <= 768) return 'sm'\n    if (width <= 992) return 'md'\n    if (width <= 1200) return 'lg'\n    return 'xl'\n  }\n  \n  function calcMaxPages(maxPages) {\n      let vp = getViewport();\n      let result = maxPages;\n      if(vp === 'xs') result = 3;\n      else if(vp === 'sm') result = 10;\n      else if(vp === 'md') result = 15;\n      else if(vp === 'lg') result = 15;\n      return maxPages < result ? maxPages : result;\n  }","import React, { Component } from 'react'\n\nexport class Select extends Component {\n    render() {\n        return (\n            <>\n                <select value={this.props.value} onChange={this.props.onChange} className=\"form-control custom-select\">\n                    {\n                        this.props.options.map(opt => {\n                            return (\n                                <option key={opt.value} value={opt.value}>{opt.label}</option>\n                            )\n                        })\n                    }\n                </select>\n            </>\n        )\n    }\n}\n\nexport default Select\n","import \"./MovieList.scss\";\nimport React, { Component } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport MovieItem from \"../movie-item/MovieItem\";\nimport Paginator from \"components/commons/Paginator\";\nimport Select from \"components/commons/Select\";\nimport { AuthContext } from \"components/Auth\";\n\nexport default class MovieList extends Component {\n\n  static contextType = AuthContext\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      movies: [],\n      params: {\n        page: 0,\n        per_page: 12,\n        title: \"\",\n        available: 1,\n        sort: \"title\",\n      },\n      totalRecords: 0,\n      sortIcon: \"fa-sort-amount-up-alt\",\n    };\n    this.props.header.setTitle(\"Movies\");\n  }\n\n  handleKeyUp = (e) => {\n    if (e.key === \"Enter\") {\n      let params = {...this.state.params, title: e.target.value, page: 0}\n      this.setState({params});\n      this.loadMovies(params)\n    }\n  };\n\n  handleSortDirClick = (e) => {\n    const params = {...this.state.params};\n    if (params.sort.startsWith(\"-\")) {\n      params.sort = params.sort.substr(1);\n      params.page = 0;\n      this.setState({ sortIcon: \"fa-sort-amount-up-alt\" });\n    } else {\n      params.sort = \"-\" + params.sort;\n      this.setState({ sortIcon: \"fa-sort-amount-down\" });\n    }\n\n    this.setState({params})\n    this.loadMovies(params)\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"movie-list-header\">\n          <div className=\"row mb-2\">\n            <div className=\"col-md-6\">\n              <div className=\"input-group\">\n                <Select value={this.sortField} options={[\n                  {value: 'title', label: 'Sort by title'},\n                  {value: 'likes', label: 'Sort by likes'},\n                ]} onChange={() => {}}/>\n                <div className=\"input-group-append\">\n                  <button\n                    className=\"btn btn-primary\"\n                    onClick={this.handleSortDirClick} aria-label=\"Asc/Desc\">\n                    <i className={\"fa \" + this.state.sortIcon}></i>\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-md-6\">\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  className=\"title-search form-control\"\n                  placeholder=\"Search by title\"\n                  onKeyUp={this.handleKeyUp}\n                />\n                <div className=\"input-group-append\">\n                  <button className=\"btn btn-primary\" onClick={() => this.loadMovies()} aria-label=\"Search\"><i className=\"fa fa-search\"></i></button>\n                </div>\n              </div>\n            </div>\n          </div>\n          {this.isAdmin &&\n          <div className=\"row\">\n            <div className=\"col-12\">\n              <div className=\"input-group\">\n                <Select value={this.state.params.available} options={[\n                  {value: '1', label: 'Available only'},\n                  {value: '0', label: 'Unavailable only'},\n                  {value: '2', label: 'All'},\n                ]} onChange={(e) => {\n                  const params = {...this.state.params};\n                  params.available = e.target.value;\n                  params.page = 0\n                  this.setState({params});\n                  this.loadMovies(params);\n                }}/>\n                <div className=\"input-group-append\">\n                  <AddMovie />\n                </div>\n              </div>\n            </div>\n          </div>\n          }\n          <div className=\"row justify-content-center\">\n            <div className=\"col-12 paginator-col mx-auto\">\n              <MoviePaginator context={this} />\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <MovieItems movies={this.state.movies} />\n        </div>\n        <MoviePaginator context={this} />\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    this.loadMovies();\n  }\n\n  loadMovies(params = this.state.params) {\n    this.context.service.fetchMovies(params).then((res) => {\n      let totalCount = res.headers[\"x-total-count\"];\n      this.setState({ movies: res.data, totalRecords: totalCount });\n      this.props.header.setTitle(\"Movies: \"+totalCount);\n    });\n  }\n\n  get currTime() {\n    return new Date().getTime();\n  }\n\n  get isAdmin() {\n    return this.context.isAdmin;\n  }\n\n  get sortField() {\n    let sort = this.state.params.sort;\n    if(sort.startsWith(\"-\")) return sort.substr(1)\n    return sort;\n  }\n\n  get totalPages() {\n    return Math.ceil(this.state.totalRecords / this.state.params.per_page);\n  }\n\n  get currentPage() {\n      return this.state.params.page\n  }\n\n  setPage = (page) => {\n    if(!(page >= 0 && page < this.totalPages)) return;\n    // const params = { ...this.state.params };\n    // params.page = page;\n    this.setState({params: {...this.state.params, page}}, this.loadMovies)\n  };\n}\n\nfunction MovieItems(props) {\n  const history = useHistory();\n  return props.movies.map((movie) => {\n    function handleClick(id) {\n      history.push(`${process.env.PUBLIC_URL}/movies/${id}`);\n    }\n    return (\n        <div key={movie.id} className=\"col-xl-4 col-md-6 col-12\">\n          <MovieItem key={movie.id} movie={movie} onClick={handleClick} />\n        </div>\n    );\n  });\n}\n\nfunction MoviePaginator({context}) {\n  return(\n    <Paginator\n      page={context.state.params.page}\n      setPage={(page) => context.setPage(page)}\n      totalPages={context.totalPages}\n      first={() => context.setPage(0)}\n      prev={() => context.setPage(context.currentPage - 1)}\n      next={() => context.setPage(context.currentPage + 1)}\n      last={() => context.setPage(context.totalPages - 1)}\n    />\n  )\n}\n\nfunction AddMovie() {\n  const history = useHistory();\n  return (\n    <button className=\"btn btn-primary\" onClick={() => {\n      history.push(process.env.PUBLIC_URL+'/movies/add');\n    }}><i className=\"fa fa-plus\"></i>Add movie</button>\n  )\n}\n","import React, { useState } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter} from 'reactstrap';\nimport { toast } from 'react-toastify';\n\nconst MovieRent = (props) => {\n  const {\n    buttonLabel,\n    className,\n    movie,\n    handleOk,\n  } = props;\n\n  const [modal, setModal] = useState(false);\n  const [rent, setRent] = useState({rentDays: 1, quantity: 1})\n\n  const toggle = () => {setModal(!modal)};\n\n  const handleRentClicked = () => {\n    handleOk(rent)\n    .then(() => {\n        toggle();\n        toast.success('Rent successful');\n    })\n    .catch((err) => {\n        toast.error(err.response.data.message)\n    });\n  }\n\n  return (\n    <div>\n      <button className=\"nav-link btn btn-link\" color=\"text-muted\" onClick={() => {toggle()}}>{buttonLabel}</button>\n      <Modal isOpen={modal} toggle={toggle} className={className}>\n        <ModalHeader toggle={toggle}>Rent movie: {movie.title}</ModalHeader>\n        <ModalBody>\n            <div className=\"form-group\">\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <label htmlFor=\"rent-days\">Days</label>\n                        <input type=\"number\" id=\"rent-days\" className=\"form-control\" min={1} defaultValue={rent.rentDays} onChange={(e) => setRent({...rent, rentDays: e.target.value})}/>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <label htmlFor=\"quantity\">Quantity</label>\n                        <input type=\"number\" id=\"quantity\" className=\"form-control\" min={1} defaultValue={rent.quantity} onChange={(e) => setRent({...rent, quantity: e.target.value})}/>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        Total: {rent.rentDays * rent.quantity * movie.rentalPrice}\n                    </div>\n                </div>\n            </div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={handleRentClicked}>OK</Button>\n          <Button color=\"secondary\" onClick={toggle}>Cancel</Button>\n        </ModalFooter>\n      </Modal>\n    </div>\n  );\n}\n\nexport default MovieRent;\n\n","import React, { useState } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { toast } from 'react-toastify';\n\nconst MoviePurchase = (props) => {\n    const {\n      buttonLabel,\n      className,\n      movie,\n      handleOk,\n    } = props;\n  \n    const [modal, setModal] = useState(false);\n    const [purchase, setPurchase] = useState({quantity: 1})\n  \n    const toggle = () => {setModal(!modal)};\n  \n    const handlePurchaseClicked = () => {\n      handleOk(purchase)\n      .then(() => {\n        toggle();\n        toast.success('Purchase successful');\n    })\n    .catch((err) => {\n        toast.error(err.response.data.message)\n    });\n    }\n  \n    return (\n      <div>\n        <button className=\"nav-link btn btn-link\" color=\"text-muted\" onClick={() => {toggle()}}>{buttonLabel}</button>\n        <Modal isOpen={modal} toggle={toggle} className={className}>\n          <ModalHeader toggle={toggle}>Purchase movie: {movie.title}</ModalHeader>\n          <ModalBody>\n              <div className=\"form-group\">\n                  <div className=\"row\">\n                      <div className=\"col-12\">\n                          <label htmlFor=\"quantity\">Quantity</label>\n                          <input type=\"number\" id=\"quantity\" className=\"form-control\" min={1} defaultValue={purchase.quantity} onChange={(e) => setPurchase({...purchase, quantity: e.target.value})}/>\n                      </div>\n                  </div>\n                  <div className=\"row\">\n                      <div className=\"col-12\">\n                          Total: {purchase.quantity * movie.salePrice}\n                      </div>\n                  </div>\n              </div>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={handlePurchaseClicked}>OK</Button>\n            <Button color=\"secondary\" onClick={toggle}>Cancel</Button>\n          </ModalFooter>\n        </Modal>\n      </div>\n    );\n  }\n\nexport default MoviePurchase\n","import './MovieDetail.scss'\nimport React, { Component } from 'react'\nimport { useHistory } from \"react-router-dom\";\nimport MovieRent from \"../movie-rent/MovieRent\";\nimport MoviePurchase from \"../movie-purchase/MoviePurchase\";\nimport { toast } from 'react-toastify';\nimport { AuthContext } from \"components/Auth\";\n\nexport class MovieDetail extends Component {\n\n    static contextType = AuthContext;\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            movie: {},\n            currTime: new Date().getTime(),\n        }\n        \n    }\n\n    render() {\n        const {movie} = this.state;\n\n        const Navbar = () => {\n            const history = useHistory();\n            const {movie} = this.state;\n            \n            \n            return (\n                <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n                    <button className=\"navbar-brand btn btn-outline-secondary\" onClick={()=>history.goBack()}><i className=\"fa fa-arrow-left\"></i></button>\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavDropdown\" aria-controls=\"navbarNavDropdown\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                        <span className=\"navbar-toggler-icon\" />\n                    </button>\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNavDropdown\">\n                        <ul className=\"navbar-nav mr-auto\">\n                            {this.context.isLoggedIn &&\n                                <>\n                                    <li className=\"nav-item navbar-btn\">\n                                        <MovieRent\n                                        buttonLabel=\"Rent\" \n                                        movie={movie}\n                                        handleOk={this.doRent} />\n\n                                    </li>\n                                    <li className=\"nav-item navbar-btn\">\n                                    <MoviePurchase\n                                        buttonLabel=\"Purchase\" \n                                        movie={movie} \n                                        handleOk={this.purchase} />\n                                    </li>\n                                </>\n                            }\n                            {this.isAdmin &&\n                            <>\n                            <li className=\"nave-item navbar-btn\">\n                                <button className={`btn ${movie.available ? 'btn-success': 'btn-outline-success'}`} onClick={() => this.toggleAvailable()}>{`${movie.available ? 'Available' : 'Unavailable'}`}</button>\n                            </li>\n                            <li className=\"nave-item navbar-btn\">\n                                <button className=\"nav-link btn btn-link\" onClick={() => this.props.handleEdit(this.state.movie, history)}>Edit</button>\n                            </li>\n                            <li className=\"nave-item navbar-btn\">\n                                <button className=\"nav-link btn btn-link\">Delete</button>\n                            </li>\n                            </>\n                            }\n                        </ul>\n                    </div>\n                </nav>\n\n            )\n        }\n\n        return (\n            <div>\n                <Navbar context={this}/>\n                <div>\n                    <h3>{movie.title}</h3>\n                    <span style={{fontWeight: 'bold'}}>Rental price:</span> {this.formatPrice(movie.rentalPrice)}<br/>\n                    <span style={{fontWeight: 'bold'}}>Sale price:</span> {this.formatPrice(movie.salePrice)}\n                    <p>\n                        {movie.description}\n                    </p>\n                </div>\n                <div>\n                    {movie.movieImages && movie.movieImages.map((image) => {\n                        return (\n                            <div key={image.url} className=\"movie-image\">\n                                <img src={image.url} alt=\"\"/>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        )\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n        this.loadMovie();\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    doRent = (params) =>  {\n        return this.context.service.rentMovie(this.movieId, params);\n    }\n\n    purchase = (params) => {\n        return this.context.service.purchaseMovie(this.movieId, params);\n    }\n\n    toggleAvailable = () => {\n        return this.context.service.toggleAvailable(this.movieId)\n        .then(res => {\n            this.setState({movie: { ...this.state.movie, available: res.data.available }})\n            toast.success(`The movie is now ${res.data.available ? 'Available' : 'Unavailable'}`);\n        })\n        .catch(err => err.response.data.message);\n    }\n\n    get movieId() {\n        return this.props.match.params.id;\n    }\n\n    get isAdmin() {\n        return this.context.isAdmin;\n    }\n\n    async loadMovie() {\n        const movie = await this.context.service.fetchMovieDetail(this.movieId);\n        this.setState({movie: movie.data})\n        this.props.header.setTitle(movie.data.title || \"Undefined\")\n    }\n\n    formatPrice(price) {\n        if(price) return `$${price.toFixed(2)}`\n        return \"$0.00\";\n    }\n}\n\nexport default MovieDetail\n\n","import './MovieForm.scss';\nimport React, { Component } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"components/Auth\";\nimport { toast } from 'react-toastify'\n\nexport class MovieForm extends Component {\n\n    static contextType = AuthContext;\n\n    constructor(props) {\n        super(props);\n        const movie = {...this.props.movie()}\n        if(!movie.movieImages) movie.movieImages = []\n        this.state = {\n            movie,\n            message: {},\n            imageUrl: ''\n        };\n        this.props.header.setTitle(`${this.state.movie.id ? \"Edit movie\" : \"Add movie\"}`);\n    }\n\n    render() {\n\n        const SaveButton = (props) => {\n            let history = useHistory();\n            return (\n                <button className=\"btn btn-primary mr-2\" onClick={() => this.saveMovie(history)}>Save</button>\n            )\n        }\n\n        const CancelButton = (props) => {\n            let history = useHistory();\n            return(\n                <button className=\"btn btn-secondary\" onClick={() => history.goBack()}>Cancel</button>\n            )\n        }\n\n        const Navbar = () => {\n            return (\n                <nav className=\"navbar navbar-expand navbar-light bg-light navbar-buttons\">\n                    <ul className=\"navbar-nav\">\n                        <li className=\"nav-item\">\n                            <SaveButton />\n                        </li>\n                        <li className=\"nav-item\">\n                            <CancelButton />\n                        </li>\n                    </ul>\n                </nav>\n            );\n        };\n\n        const movie = { ...this.state.movie };\n        const InvalidFeedback = ({ field }) => {\n\n            return (\n                <div className={`invalid-feedback ${this.state.message[field] ? 'd-block' : ''}`}>\n                    {this.state.message[field]}\n                </div>\n            )\n        }\n        return (\n            <>\n                <Navbar self={this} />\n                <div className=\"form-group\">\n                    <div className=\"row\">\n                        <div className=\"col-12\">\n                            <label htmlFor=\"title\">Title</label>\n                            <input\n                                type=\"text\"\n                                id=\"title\"\n                                defaultValue={movie.title}\n                                className=\"form-control\"\n                                onChange={(e) =>\n                                    this.setState({ movie: { ...movie, title: e.target.value } })\n                                }\n                            />\n                            <InvalidFeedback field=\"title\" />\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-12\">\n                            <label htmlFor=\"description\">Description</label>\n                            <textarea\n                                id=\"description\"\n                                cols=\"30\"\n                                className=\"form-control\"\n                                defaultValue={movie.description}\n                                onChange={(e) =>\n                                    this.setState({\n                                        movie: { ...movie, description: e.target.value },\n                                    })\n                                }\n                            ></textarea>\n                            <InvalidFeedback field=\"description\" />\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-lg-4\">\n                            <label htmlFor=\"stock\">Stock</label>\n                            <input\n                                type=\"number\"\n                                name=\"stock\"\n                                id=\"stock\"\n                                className=\"form-control\"\n                                min={0}\n                                value={movie.stock}\n                                onChange={(e) =>\n                                    this.setState({ movie: { ...movie, stock: e.target.value } })\n                                }\n                            />\n                            <InvalidFeedback field=\"stock\" />\n                        </div>\n                        <div className=\"col-lg-4\">\n                            <label htmlFor=\"stock\">Rental price</label>\n                            <input\n                                type=\"number\"\n                                name=\"rentalPrice\"\n                                id=\"rentalPrice\"\n                                className=\"form-control\"\n                                min={0.0}\n                                defaultValue={movie.rentalPrice}\n                                onChange={(e) =>\n                                    this.setState({\n                                        movie: { ...movie, rentalPrice: e.target.value },\n                                    })\n                                }\n                            />\n                            <InvalidFeedback field=\"rentalPrice\" />\n                        </div>\n                        <div className=\"col-lg-4\">\n                            <label htmlFor=\"salePrice\">Sale price</label>\n                            <input\n                                type=\"number\"\n                                name=\"salePrice\"\n                                id=\"rentalPrice\"\n                                className=\"form-control\"\n                                min={0.0}\n                                defaultValue={movie.salePrice}\n                                onChange={(e) =>\n                                    this.setState({ movie: { ...movie, salePrice: e.target.value } })\n                                }\n                            />\n                            <InvalidFeedback field=\"salePrice\" />\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-12\">\n                            <label htmlFor=\"imageUrl\">Image URL</label>\n                            <div className=\"input-group\">\n                                <input type=\"text\" \n                                className=\"form-control\" \n                                onChange={(e) =>\n                                    this.setState({imageUrl: e.target.value})\n                                }\n                                />\n                                <div className=\"input-group-append\">\n                                    <button className=\"btn btn-primary\" onClick={() => this.addImage()}>\n                                        <i className=\"fa fa-plus\"></i>\n                                    </button>\n                                </div>\n                            </div>\n                            <InvalidFeedback field=\"movieImages\" />\n                        </div>\n                    </div>\n                </div>\n                <div className=\"images\">\n                    {\n                        this.state.movie.movieImages.map(image => {\n                            return(\n                                <div className=\"image-div\">\n                                    <img src={image.url} className=\"movie-image\" />\n                                    <button className=\"btn btn-outline-secondary btn-remove-image\" onClick={() => this.removeImage(image.url)}><i className=\"fa fa-times\"></i></button>\n                                </div>\n                            )\n                        })\n                    }\n                </div>\n            </>\n        );\n    }\n\n    addImage() {\n        let url = this.state.imageUrl;\n        if(url) {\n            const movie = {...this.state.movie};\n            movie.movieImages.push({url})\n            this.setState({movie})\n        }\n    }\n\n    removeImage(url) {\n        let movie = {...this.state.movie}\n        movie.movieImages = movie.movieImages.filter(image => image.url !== url)\n        this.setState({...this.state, movie})\n    }\n\n    saveMovie(history) {\n        let service = this.context.service;\n        return service.saveMovie(this.state.movie).then(res => {\n            if(this.state.movie.id) {\n                history.goBack();\n            }\n            else history.push(process.env.PUBLIC_URL+'/movies/'+res.data.id)\n        })\n            .catch(err => {\n                let message = {}\n                err.response.data.forEach(d => {\n                    message[d.field] = d.error.message;\n                });\n                this.setState({ ...this.state, message })\n            });\n    }\n}\n\nexport default MovieForm;\n","import './Navbar.scss'\nimport React, { Component } from \"react\";\n\nexport default class Navbar extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      title: '',\n    }\n    props.header.setTitle = (title) => this.setState({title: title});\n  }\n  render() {\n    return (\n      <nav className=\"main-header navbar navbar-expand navbar-white navbar-light\">\n        {/* Left navbar links */}\n        <ul className=\"navbar-nav\">\n          <li className=\"nav-item\">\n            <button\n              className=\"nav-link\"\n              data-widget=\"pushmenu\"\n              style={{ background: \"transparent\", border: \"none\" }}\n              aria-label=\"Toggle Side menu\"\n            >\n              <i className=\"fas fa-bars\" />\n            </button>\n          </li>\n          <li className=\"nav-item\">\n            <div className=\"nav-title\">{this.state.title}</div>\n          </li>\n        </ul>\n\n        {/* Right navbar links */}\n        <ul className=\"navbar-nav ml-auto\">\n          {/* Messages Dropdown Menu */}\n\n          {/* Notifications Dropdown Menu */}\n\n          <li className=\"nav-item\"></li>\n        </ul>\n      </nav>\n    );\n  }\n}\n\n","import './SideMenu.scss'\nimport React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport {AuthContext} from 'components/Auth'\n\nexport default class SideMenu extends Component {\n    \n  static contextType = AuthContext;\n\n    render() {\n      let auth1 = null;\n      function UserInfo({auth, context}) {\n        if(auth && auth.isLoggedIn) return (\n          <>\n            <div className=\"image\">\n              <img src={auth.user.picture} className=\"img-circle elevation-2\" alt={'UserImage'} />\n            </div>\n            <div className=\"info\">\n              <span href=\"#\" className=\"d-block\" style={{color: 'white'}}>{auth.user.fullName}</span>\n            </div>\n            \n          </>\n        )\n        \n        return (\n          <div className=\"d-block mx-auto info\" style={{color: 'white'}}>\n            <span>Not logged in</span>\n          </div>\n        )\n      }\n\n      const LogoutButton = ({ auth }) => {\n        if(auth && auth.jwt) return (\n        <>\n          <li className=\"nav-item nav-item-logout\">\n            <button type=\"button\" className=\"nav-link btn btn-link\" onClick={this.props.logout}>\n              <i className=\"nav-icon fas fa-sign-out-alt\" />\n              <p>\n                Logout\n              </p>\n            </button>\n          </li>\n        </>\n        )\n        return (\n          <li className=\"nav-item nav-item-logout\">\n            <button type=\"button\" className=\"nav-link btn btn-link\" onClick={this.props.handleLoginClicked}>\n              <i className=\"nav-icon fas fa-sign-in-alt\" />\n              <p>Login</p>\n            </button>\n          </li>\n        )\n      }\n\n\n      \n        return (\n            <aside className=\"main-sidebar sidebar-dark-primary elevation-4\">\n  {/* Brand Logo */}\n  <a href=\"index3.html\" className=\"brand-link\">\n    <img src={process.env.PUBLIC_URL+\"/dist/img/AdminLTELogo.png\"} alt=\"AdminLTE Logo\" className=\"brand-image img-circle elevation-3\" style={{opacity: '.8'}} />\n    <span className=\"brand-text font-weight-light\">DVD Rental</span>\n  </a>\n  {/* Sidebar */}\n  <AuthContext.Consumer>\n    {auth => {return (\n  <div className=\"sidebar\">\n    {/* Sidebar user panel (optional) */}\n    \n          <>\n          <div className=\"user-panel mt-3 pb-3 mb-3 d-flex\">\n            <UserInfo auth={auth} context={this}/>\n            </div>\n          </>  \n    \n    {/* Sidebar Menu */}\n    <nav className=\"mt-2\">\n      <ul className=\"nav nav-pills nav-sidebar flex-column\" data-widget=\"treeview\" role=\"menu\" data-accordion=\"false\">\n        {/* Add icons to the links using the .nav-icon class\n         with font-awesome or any other icon font library */}\n         <LogoutButton auth={auth}/>\n        <li className=\"nav-item\">\n          <Link to={process.env.PUBLIC_URL+\"/movies\"} className=\"nav-link\">\n            <i className=\"nav-icon fas fa-th\" />\n            <p>\n              Movies\n            </p>\n          </Link>\n        </li>\n        <li className=\"nav-item\">\n          <a href=\"/api-docs\" className=\"nav-link\">\n            <i className=\"nav-icon fas fa-file\" />\n            <p>\n              API Documentation\n            </p>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  )} \n  }\n  </AuthContext.Consumer>\n</aside>\n\n        )\n    }\n}","import React, { Component } from 'react'\n\nexport class Content extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            title: 'No title'\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"content-wrapper\">\n                <section className=\"content-header\">\n                    \n                </section>\n                <section className=\"content\">\n                    <div className=\"container-fluid\">\n                        <div className=\"row\">\n                            <div className=\"col-12\">\n                                <div className=\"card\">                                    \n                                    <div className=\"card-body\">\n                                        {\n                                            this.props.content\n                                        }\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        )\n    }\n}\n\nexport default Content\n","import { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { useState } from 'react';\nimport axios from 'axios';\n\nconst LoginForm = (props) => {\n\n    const ax = axios.create({\n        timeout: 2000,\n        baseURL: process.env.REACT_APP_BASE_URL+\"/login/auth\",\n        headers: {}\n    })\n\n    const login = () => {\n        return ax.post('', creds).then((res) => {\n            loginSuccess(res.data);\n        });\n    }\n\n    const {\n        isOpen,\n        toggle,\n        loginSuccess\n        } = props\n\n    const [creds, setCreds] = useState({username: '', password: ''})\n\n    return (\n        <div>\n            <Modal isOpen={isOpen} toggle={toggle}>\n                <ModalHeader toggle={toggle}>Login</ModalHeader>\n                <ModalBody>\n                    <div className=\"form-group\">\n                        <div className=\"row\">\n                            <div className=\"col-12\">\n                                <label htmlFor=\"username\">Username</label>\n                                <input type=\"text\" id=\"username\" className=\"form-control\" onChange={(e) => setCreds({...creds, username: e.target.value})}/>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col-12\">\n                                <label htmlFor=\"username\">Password</label>\n                                <input type=\"password\" id=\"username\" className=\"form-control\" onChange={(e) => setCreds({...creds, password: e.target.value})}/>\n                            </div>\n                        </div>\n                    \n                    </div>\n                </ModalBody>\n                <ModalFooter>\n                    <Button color=\"primary\" onClick={login}>Login</Button>\n                    <Button color=\"secondary\" onClick={toggle}>Cancel</Button>\n                </ModalFooter>\n            </Modal>\n        </div>\n    )\n}\n\nexport default LoginForm\n","// import './App.css';\nimport MovieList from 'components/movies/movie-list/MovieList'\nimport MovieDetail from 'components/movies/movie-detail/MovieDetail'\nimport MovieForm from 'components/movies/movie-form/MovieForm'\nimport Navbar from 'components/layout/Navbar'\nimport SideMenu from 'components/layout/SideMenu'\nimport Content from 'components/layout/Content'\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport React,{ useState, useEffect } from 'react';\nimport LoginForm from './components/login/LoginForm';\nimport {Auth, AuthProvider} from './components/Auth';\nimport { useHistory } from \"react-router-dom\";\n\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\n\nfunction App() {\n\n  useEffect(() => {\n    let item = localStorage.getItem(\"auth\");\n    let auth1 = JSON.parse(item);\n    if(item) {\n      if(!auth.jwt || auth.jwt !== auth1.jwt) {\n        setAuth(new Auth(auth1));\n      }\n    }\n  })\n\n  const [showLogin, setShowLogin] = useState(false);\n  const toggleLogin = () => setShowLogin(!showLogin)\n  const [auth, setAuth] = useState(new Auth({}))\n  const contentHeader = {setTitle: () => {}}\n\n  const root = process.env.PUBLIC_URL\n\n  let movie = {};\n  \n  const movieDetailPath = \"/movies/:id\"\n  const routes = (\n    <Switch>\n      <Route path={root+\"/\"} exact><Redirect to={root+\"/movies\"}/></Route>\n      <Route path={root+\"/movies\"} exact >\n        <MovieList header={contentHeader} />\n      </Route>\n      <Route path={root+\"/movies/add\"} render={(props) => <MovieForm {...props} header={contentHeader} movie={() => {}} />}/>\n      <Route path={root+\"/movies/edit\"} render={(props) => <MovieForm {...props} header={contentHeader} movie={() => movie} />}/>\n      <Route path={root+movieDetailPath} exact render={(props) => <MovieDetail {...props} header={contentHeader} handleEdit={(m, history) =>{\n        movie = {...m};\n        console.log(\"handleEdit movie\", movie)\n        history.push(`${root}/movies/edit`);\n      }} />}/>\n    </Switch>\n  )\n\n  return (\n    <Router>\n        <AuthProvider value={auth}>\n          <div className=\"App wrapper\">\n            <ToastContainer autoClose={3000} />\n            <LoginForm isOpen={showLogin} toggle={toggleLogin} loginSuccess={(auth) => {\n                setAuth(new Auth(auth))\n                setShowLogin(false)\n                console.log(\"auth loginsuccess\", JSON.stringify(auth))\n                localStorage.setItem(\"auth\", JSON.stringify(auth));\n                }}/>\n            <Navbar header={contentHeader}/>\n            <SideMenu handleLoginClicked={() => setShowLogin(true)} logout={() => {\n              auth.logout();\n              setAuth(new Auth({}))\n            }}/>\n            <Content content={routes} header={contentHeader}/>\n          </div>\n        </AuthProvider>\n      </Router>\n  );\n}\n\nexport default App;\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}